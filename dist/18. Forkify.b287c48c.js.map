{"mappings":"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","sources":["<anon>","src/js/controller.js","src/js/model.js","src/js/config.js","src/js/helpers.js","src/js/views/recipeView.js","src/js/views/View.js","node_modules/@parcel/runtime-js/lib/runtime-4ecf8a9223074b3d.js","src/js/views/searchView.js","src/js/views/resultsView.js","src/js/views/previewView.js","src/js/views/paginationView.js","src/js/views/bookmarksView.js","src/js/views/addRecipeView.js"],"sourcesContent":["import \"regenerator-runtime/runtime\";\nimport \"regenerator-runtime\";\nimport $cKg3f$fractionjs from \"fraction.js\";\n\n\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\nfunction $parcel$resolve(url) {\n  url = parcelRequire.i?.[url] || url;\n  return new URL($parcel$distDir + url, import.meta.url).toString();\n}\n\n      var $parcel$global = globalThis;\n    var $parcel$distDir = \"./\";\n\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire3a11\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire3a11\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\n\nconst $5a6096cca84573e0$export$923ea8233b386e99 = 'https://forkify-api.herokuapp.com/api/v2/recipes/';\nconst $5a6096cca84573e0$export$196440f71ed9f601 = 10;\nconst $5a6096cca84573e0$export$5feaddb1377b7f5e = 10;\nconst $5a6096cca84573e0$export$7167c830cefcb6b5 = '68dc8f3a-579a-45bf-b9f6-9d23d9283cb9';\nconst $5a6096cca84573e0$export$3ce8858248d89a69 = 2.5;\n\n\n\n\nconst $f60b3440db01ec1d$var$timeout = function(s) {\n    return new Promise(function(_, reject) {\n        setTimeout(function() {\n            reject(new Error(`Request took too long! Timeout after ${s} second`));\n        }, s * 1000);\n    });\n};\nconst $f60b3440db01ec1d$export$2b3ff41fecbef7c8 = async function(url, uploadData) {\n    try {\n        const fetchPro = uploadData ? fetch(url, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(uploadData)\n        }) : fetch(url);\n        const res = await Promise.race([\n            fetchPro,\n            $f60b3440db01ec1d$var$timeout((0, $5a6096cca84573e0$export$196440f71ed9f601))\n        ]);\n        const data = await res.json();\n        if (!res.ok) throw new Error(`${data.message} (${res.status})`);\n        return data;\n    } catch (err) {\n        throw err;\n    }\n}; /*\r\nexport const getJSON = async function (url) {\r\n  try {\r\n    const fetchPro = fetch(url);\r\n    const res = await Promise.race([fetchPro, timeout(TIMEOUT_SEC)]);\r\n    const data = await res.json();\r\n\r\n    if (!res.ok) throw new Error(`${data.message} (${res.status})`);\r\n    return data;\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const sendJSON = async function (url, uploadData) {\r\n  try {\r\n    const fetchPro = fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(uploadData),\r\n    });\r\n\r\n    const res = await Promise.race([fetchPro, timeout(TIMEOUT_SEC)]);\r\n    const data = await res.json();\r\n\r\n    if (!res.ok) throw new Error(`${data.message} (${res.status})`);\r\n    return data;\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n*/ \n\n\nconst $ab6718d70450324c$export$ca000e230c0caa3e = {\n    recipe: {},\n    search: {\n        query: '',\n        results: [],\n        page: 1,\n        resultsPerPage: (0, $5a6096cca84573e0$export$5feaddb1377b7f5e)\n    },\n    bookmarks: []\n};\nconst $ab6718d70450324c$var$createRecipeObject = function(data) {\n    const { recipe: recipe } = data.data;\n    return {\n        id: recipe.id,\n        title: recipe.title,\n        publisher: recipe.publisher,\n        sourceUrl: recipe.source_url,\n        image: recipe.image_url,\n        servings: recipe.servings,\n        cookingTime: recipe.cooking_time,\n        ingredients: recipe.ingredients,\n        ...recipe.key && {\n            key: recipe.key\n        }\n    };\n};\nconst $ab6718d70450324c$export$b96725c7a035d60b = async function(id) {\n    try {\n        const data = await (0, $f60b3440db01ec1d$export$2b3ff41fecbef7c8)(`${(0, $5a6096cca84573e0$export$923ea8233b386e99)}${id}?key=${(0, $5a6096cca84573e0$export$7167c830cefcb6b5)}`);\n        $ab6718d70450324c$export$ca000e230c0caa3e.recipe = $ab6718d70450324c$var$createRecipeObject(data);\n        if ($ab6718d70450324c$export$ca000e230c0caa3e.bookmarks.some((bookmark)=>bookmark.id === id)) $ab6718d70450324c$export$ca000e230c0caa3e.recipe.bookmarked = true;\n        else $ab6718d70450324c$export$ca000e230c0caa3e.recipe.bookmarked = false;\n        console.log($ab6718d70450324c$export$ca000e230c0caa3e.recipe);\n    } catch (err) {\n        // Temp error handling\n        console.error(`${err} \\u{1F4A5}\\u{1F4A5}\\u{1F4A5}\\u{1F4A5}`);\n        throw err;\n    }\n};\nconst $ab6718d70450324c$export$202b8e5cb363a0c4 = async function(query) {\n    try {\n        $ab6718d70450324c$export$ca000e230c0caa3e.search.query = query;\n        const data = await (0, $f60b3440db01ec1d$export$2b3ff41fecbef7c8)(`${(0, $5a6096cca84573e0$export$923ea8233b386e99)}?search=${query}&key=${(0, $5a6096cca84573e0$export$7167c830cefcb6b5)}`);\n        console.log(data);\n        $ab6718d70450324c$export$ca000e230c0caa3e.search.results = data.data.recipes.map((rec)=>{\n            return {\n                id: rec.id,\n                title: rec.title,\n                publisher: rec.publisher,\n                image: rec.image_url,\n                ...rec.key && {\n                    key: rec.key\n                }\n            };\n        });\n        $ab6718d70450324c$export$ca000e230c0caa3e.search.page = 1;\n    } catch (err) {\n        console.error(`${err} \\u{1F4A5}\\u{1F4A5}\\u{1F4A5}\\u{1F4A5}`);\n        throw err;\n    }\n};\nconst $ab6718d70450324c$export$8d7f79465139ab72 = function(page = $ab6718d70450324c$export$ca000e230c0caa3e.search.page) {\n    $ab6718d70450324c$export$ca000e230c0caa3e.search.page = page;\n    const start = (page - 1) * $ab6718d70450324c$export$ca000e230c0caa3e.search.resultsPerPage; // 0\n    const end = page * $ab6718d70450324c$export$ca000e230c0caa3e.search.resultsPerPage; // 9\n    return $ab6718d70450324c$export$ca000e230c0caa3e.search.results.slice(start, end);\n};\nconst $ab6718d70450324c$export$5e23f4642ecad5ea = function(newServings) {\n    $ab6718d70450324c$export$ca000e230c0caa3e.recipe.ingredients.forEach((ing)=>{\n        ing.quantity = ing.quantity * newServings / $ab6718d70450324c$export$ca000e230c0caa3e.recipe.servings;\n    // newQt = oldQt * newServings / oldServings // 2 * 8 / 4 = 4\n    });\n    $ab6718d70450324c$export$ca000e230c0caa3e.recipe.servings = newServings;\n};\nconst $ab6718d70450324c$var$persistBookmarks = function() {\n    localStorage.setItem('bookmarks', JSON.stringify($ab6718d70450324c$export$ca000e230c0caa3e.bookmarks));\n};\nconst $ab6718d70450324c$export$72009cc673d27d80 = function(recipe) {\n    // Add bookmark\n    $ab6718d70450324c$export$ca000e230c0caa3e.bookmarks.push(recipe);\n    // Mark current recipe as bookmarked\n    if (recipe.id === $ab6718d70450324c$export$ca000e230c0caa3e.recipe.id) $ab6718d70450324c$export$ca000e230c0caa3e.recipe.bookmarked = true;\n    $ab6718d70450324c$var$persistBookmarks();\n};\nconst $ab6718d70450324c$export$136048bcb9946c75 = function(id) {\n    // Delete bookmark\n    const index = $ab6718d70450324c$export$ca000e230c0caa3e.bookmarks.findIndex((el)=>el.id === id);\n    $ab6718d70450324c$export$ca000e230c0caa3e.bookmarks.splice(index, 1);\n    // Mark current recipe as NOT bookmarked\n    if (id === $ab6718d70450324c$export$ca000e230c0caa3e.recipe.id) $ab6718d70450324c$export$ca000e230c0caa3e.recipe.bookmarked = false;\n    $ab6718d70450324c$var$persistBookmarks();\n};\nconst $ab6718d70450324c$var$init = function() {\n    const storage = localStorage.getItem('bookmarks');\n    if (storage) $ab6718d70450324c$export$ca000e230c0caa3e.bookmarks = JSON.parse(storage);\n};\n$ab6718d70450324c$var$init();\nconst $ab6718d70450324c$var$clearBookmarks = function() {\n    localStorage.clear('bookmarks');\n};\nconst $ab6718d70450324c$export$d660c2254e74960d = async function(newRecipe) {\n    try {\n        const ingredients = Object.entries(newRecipe).filter((entry)=>entry[0].startsWith('ingredient') && entry[1] !== '').map((ing)=>{\n            const ingArr = ing[1].split(',').map((el)=>el.trim());\n            // const ingArr = ing[1].replaceAll(' ', '').split(',');\n            if (ingArr.length !== 3) throw new Error('Wrong ingredient fromat! Please use the correct format :)');\n            const [quantity, unit, description] = ingArr;\n            return {\n                quantity: quantity ? +quantity : null,\n                unit: unit,\n                description: description\n            };\n        });\n        const recipe = {\n            title: newRecipe.title,\n            source_url: newRecipe.sourceUrl,\n            image_url: newRecipe.image,\n            publisher: newRecipe.publisher,\n            cooking_time: +newRecipe.cookingTime,\n            servings: +newRecipe.servings,\n            ingredients: ingredients\n        };\n        const data = await (0, $f60b3440db01ec1d$export$2b3ff41fecbef7c8)(`${(0, $5a6096cca84573e0$export$923ea8233b386e99)}?key=${(0, $5a6096cca84573e0$export$7167c830cefcb6b5)}`, recipe);\n        $ab6718d70450324c$export$ca000e230c0caa3e.recipe = $ab6718d70450324c$var$createRecipeObject(data);\n        $ab6718d70450324c$export$72009cc673d27d80($ab6718d70450324c$export$ca000e230c0caa3e.recipe);\n    } catch (err) {\n        throw err;\n    }\n};\n\n\n\nvar $d1e5be0b6db37649$exports = {};\n$d1e5be0b6db37649$exports = $parcel$resolve(\"icons.c5b0f01c.svg\");\n\n\nclass $1e012f77ee4dc7ab$export$2e2bcd8739ae039 {\n    _data;\n    /**\r\n   * Render the received object to the DOM\r\n   * @param {Object | Object[]} data The data to be rendered (e.g. recipe)\r\n   * @param {boolean} [render=true] If false, create markup string instead of rendering to the DOM\r\n   * @returns {undefined | string} A markup string is returned if render=false\r\n   * @this {Object} View instance\r\n   * @author Jonas Schmedtmann\r\n   * @todo Finish implementation\r\n   */ render(data, render = true) {\n        if (!data || Array.isArray(data) && data.length === 0) return this.renderError();\n        this._data = data;\n        const markup = this._generateMarkup();\n        if (!render) return markup;\n        this._clear();\n        this._parentElement.insertAdjacentHTML('afterbegin', markup);\n    }\n    update(data) {\n        this._data = data;\n        const newMarkup = this._generateMarkup();\n        const newDOM = document.createRange().createContextualFragment(newMarkup);\n        const newElements = Array.from(newDOM.querySelectorAll('*'));\n        const curElements = Array.from(this._parentElement.querySelectorAll('*'));\n        newElements.forEach((newEl, i)=>{\n            const curEl = curElements[i];\n            // console.log(curEl, newEl.isEqualNode(curEl));\n            // Updates changed TEXT\n            if (!newEl.isEqualNode(curEl) && newEl.firstChild?.nodeValue.trim() !== '') // console.log('💥', newEl.firstChild.nodeValue.trim());\n            curEl.textContent = newEl.textContent;\n            // Updates changed ATTRIBUES\n            if (!newEl.isEqualNode(curEl)) Array.from(newEl.attributes).forEach((attr)=>curEl.setAttribute(attr.name, attr.value));\n        });\n    }\n    _clear() {\n        this._parentElement.innerHTML = '';\n    }\n    renderSpinner() {\n        const markup = `\n      <div class=\"spinner\">\n        <svg>\n          <use href=\"${(0, (/*@__PURE__*/$parcel$interopDefault($d1e5be0b6db37649$exports)))}#icon-loader\"></use>\n        </svg>\n      </div>\n    `;\n        this._clear();\n        this._parentElement.insertAdjacentHTML('afterbegin', markup);\n    }\n    renderError(message = this._errorMessage) {\n        const markup = `\n      <div class=\"error\">\n        <div>\n          <svg>\n            <use href=\"${(0, (/*@__PURE__*/$parcel$interopDefault($d1e5be0b6db37649$exports)))}#icon-alert-triangle\"></use>\n          </svg>\n        </div>\n        <p>${message}</p>\n      </div>\n    `;\n        this._clear();\n        this._parentElement.insertAdjacentHTML('afterbegin', markup);\n    }\n    renderMessage(message = this._message) {\n        const markup = `\n      <div class=\"message\">\n        <div>\n          <svg>\n            <use href=\"${(0, (/*@__PURE__*/$parcel$interopDefault($d1e5be0b6db37649$exports)))}#icon-smile\"></use>\n          </svg>\n        </div>\n        <p>${message}</p>\n      </div>\n    `;\n        this._clear();\n        this._parentElement.insertAdjacentHTML('afterbegin', markup);\n    }\n}\n\n\n\n\nclass $72fed2084279148d$var$RecipeView extends (0, $1e012f77ee4dc7ab$export$2e2bcd8739ae039) {\n    _parentElement = document.querySelector('.recipe');\n    _errorMessage = 'We could not find that recipe. Please try another one!';\n    _message = '';\n    addHandlerRender(handler) {\n        [\n            'hashchange',\n            'load'\n        ].forEach((ev)=>window.addEventListener(ev, handler));\n    }\n    addHandlerUpdateServings(handler) {\n        this._parentElement.addEventListener('click', function(e) {\n            const btn = e.target.closest('.btn--update-servings');\n            if (!btn) return;\n            const { updateTo: updateTo } = btn.dataset;\n            if (+updateTo > 0) handler(+updateTo);\n        });\n    }\n    addHandlerAddBookmark(handler) {\n        this._parentElement.addEventListener('click', function(e) {\n            const btn = e.target.closest('.btn--bookmark');\n            if (!btn) return;\n            handler();\n        });\n    }\n    _generateMarkup() {\n        return `\n      <figure class=\"recipe__fig\">\n        <img src=\"${this._data.image}\" alt=\"${this._data.title}\" class=\"recipe__img\" />\n        <h1 class=\"recipe__title\">\n          <span>${this._data.title}</span>\n        </h1>\n      </figure>\n\n      <div class=\"recipe__details\">\n        <div class=\"recipe__info\">\n          <svg class=\"recipe__info-icon\">\n            <use href=\"${0, (/*@__PURE__*/$parcel$interopDefault($d1e5be0b6db37649$exports))}#icon-clock\"></use>\n          </svg>\n          <span class=\"recipe__info-data recipe__info-data--minutes\">${this._data.cookingTime}</span>\n          <span class=\"recipe__info-text\">minutes</span>\n        </div>\n        <div class=\"recipe__info\">\n          <svg class=\"recipe__info-icon\">\n            <use href=\"${0, (/*@__PURE__*/$parcel$interopDefault($d1e5be0b6db37649$exports))}#icon-users\"></use>\n          </svg>\n          <span class=\"recipe__info-data recipe__info-data--people\">${this._data.servings}</span>\n          <span class=\"recipe__info-text\">servings</span>\n\n          <div class=\"recipe__info-buttons\">\n            <button class=\"btn--tiny btn--update-servings\" data-update-to=\"${this._data.servings - 1}\">\n              <svg>\n                <use href=\"${0, (/*@__PURE__*/$parcel$interopDefault($d1e5be0b6db37649$exports))}#icon-minus-circle\"></use>\n              </svg>\n            </button>\n            <button class=\"btn--tiny btn--update-servings\" data-update-to=\"${this._data.servings + 1}\">\n              <svg>\n                <use href=\"${0, (/*@__PURE__*/$parcel$interopDefault($d1e5be0b6db37649$exports))}#icon-plus-circle\"></use>\n              </svg>\n            </button>\n          </div>\n        </div>\n\n        <div class=\"recipe__user-generated ${this._data.key ? '' : 'hidden'}\">\n          <svg>\n            <use href=\"${0, (/*@__PURE__*/$parcel$interopDefault($d1e5be0b6db37649$exports))}#icon-user\"></use>\n          </svg>\n        </div>\n        <button class=\"btn--round btn--bookmark\">\n          <svg class=\"\">\n            <use href=\"${0, (/*@__PURE__*/$parcel$interopDefault($d1e5be0b6db37649$exports))}#icon-bookmark${this._data.bookmarked ? '-fill' : ''}\"></use>\n          </svg>\n        </button>\n      </div>\n\n      <div class=\"recipe__ingredients\">\n        <h2 class=\"heading--2\">Recipe ingredients</h2>\n        <ul class=\"recipe__ingredient-list\">\n          ${this._data.ingredients.map(this._generateMarkupIngredient.bind(this)).join('')}\n        </ul>\n      </div>\n\n      <div class=\"recipe__directions\">\n        <h2 class=\"heading--2\">How to cook it</h2>\n        <p class=\"recipe__directions-text\">\n          This recipe was carefully designed and tested by\n          <span class=\"recipe__publisher\">${this._data.publisher}</span>. Please check out\n          directions at their website.\n        </p>\n        <a\n          class=\"btn--small recipe__btn\"\n          href=\"${this._data.sourceUrl}\"\n          target=\"_blank\"\n        >\n          <span>Directions</span>\n          <svg class=\"search__icon\">\n            <use href=\"${0, (/*@__PURE__*/$parcel$interopDefault($d1e5be0b6db37649$exports))}#icon-arrow-right\"></use>\n          </svg>\n        </a>\n      </div>\n    `;\n    }\n    _generateMarkupIngredient(ing) {\n        return `\n    <li class=\"recipe__ingredient\">\n      <svg class=\"recipe__icon\">\n        <use href=\"${0, (/*@__PURE__*/$parcel$interopDefault($d1e5be0b6db37649$exports))}#icon-check\"></use>\n      </svg>\n      <div class=\"recipe__quantity\">\n        ${ing.quantity ? new (0, $cKg3f$fractionjs)(ing.quantity).toString() : ''}\n      </div>\n      <div class=\"recipe__description\">\n        <span class=\"recipe__unit\">${ing.unit}</span>\n        ${ing.description}\n      </div>\n    </li>\n    `;\n    }\n}\nvar $72fed2084279148d$export$2e2bcd8739ae039 = new $72fed2084279148d$var$RecipeView();\n\n\nclass $4aaaf4718738096b$var$SearchView {\n    _parentEl = document.querySelector('.search');\n    getQuery() {\n        const query = this._parentEl.querySelector('.search__field').value;\n        this._clearInput();\n        return query;\n    }\n    _clearInput() {\n        this._parentEl.querySelector('.search__field').value = '';\n    }\n    addHandlerSearch(handler) {\n        this._parentEl.addEventListener('submit', function(e) {\n            e.preventDefault();\n            handler();\n        });\n    }\n}\nvar $4aaaf4718738096b$export$2e2bcd8739ae039 = new $4aaaf4718738096b$var$SearchView();\n\n\n\n\n\nclass $0e33e89facf3c96b$var$PreviewView extends (0, $1e012f77ee4dc7ab$export$2e2bcd8739ae039) {\n    _parentElement = '';\n    _generateMarkup() {\n        const id = window.location.hash.slice(1);\n        return `\n      <li class=\"preview\">\n        <a class=\"preview__link ${this._data.id === id ? 'preview__link--active' : ''}\" href=\"#${this._data.id}\">\n          <figure class=\"preview__fig\">\n            <img src=\"${this._data.image}\" alt=\"${this._data.title}\" />\n          </figure>\n          <div class=\"preview__data\">\n            <h4 class=\"preview__title\">${this._data.title}</h4>\n            <p class=\"preview__publisher\">${this._data.publisher}</p>\n            <div class=\"preview__user-generated ${this._data.key ? '' : 'hidden'}\">\n              <svg>\n              <use href=\"${0, (/*@__PURE__*/$parcel$interopDefault($d1e5be0b6db37649$exports))}#icon-user\"></use>\n              </svg>\n            </div>\n          </div>\n        </a>\n      </li>\n    `;\n    }\n}\nvar $0e33e89facf3c96b$export$2e2bcd8739ae039 = new $0e33e89facf3c96b$var$PreviewView();\n\n\n\nclass $5e0ec12e5f0de034$var$ResultsView extends (0, $1e012f77ee4dc7ab$export$2e2bcd8739ae039) {\n    _parentElement = document.querySelector('.results');\n    _errorMessage = 'No recipes found for your query! Please try again ;)';\n    _message = '';\n    _generateMarkup() {\n        return this._data.map((result)=>(0, $0e33e89facf3c96b$export$2e2bcd8739ae039).render(result, false)).join('');\n    }\n}\nvar $5e0ec12e5f0de034$export$2e2bcd8739ae039 = new $5e0ec12e5f0de034$var$ResultsView();\n\n\n\n\nclass $c4d1c4156c1176a1$var$PaginationView extends (0, $1e012f77ee4dc7ab$export$2e2bcd8739ae039) {\n    _parentElement = document.querySelector('.pagination');\n    addHandlerClick(handler) {\n        this._parentElement.addEventListener('click', function(e) {\n            const btn = e.target.closest('.btn--inline');\n            if (!btn) return;\n            const goToPage = +btn.dataset.goto;\n            handler(goToPage);\n        });\n    }\n    _generateMarkup() {\n        const curPage = this._data.page;\n        const numPages = Math.ceil(this._data.results.length / this._data.resultsPerPage);\n        // Page 1, and there are other pages\n        if (curPage === 1 && numPages > 1) return `\n        <button data-goto=\"${curPage + 1}\" class=\"btn--inline pagination__btn--next\">\n          <span>Page ${curPage + 1}</span>\n          <svg class=\"search__icon\">\n            <use href=\"${0, (/*@__PURE__*/$parcel$interopDefault($d1e5be0b6db37649$exports))}#icon-arrow-right\"></use>\n          </svg>\n        </button>\n      `;\n        // Last page\n        if (curPage === numPages && numPages > 1) return `\n        <button data-goto=\"${curPage - 1}\" class=\"btn--inline pagination__btn--prev\">\n          <svg class=\"search__icon\">\n            <use href=\"${0, (/*@__PURE__*/$parcel$interopDefault($d1e5be0b6db37649$exports))}#icon-arrow-left\"></use>\n          </svg>\n          <span>Page ${curPage - 1}</span>\n        </button>\n      `;\n        // Other page\n        if (curPage < numPages) return `\n        <button data-goto=\"${curPage - 1}\" class=\"btn--inline pagination__btn--prev\">\n          <svg class=\"search__icon\">\n            <use href=\"${0, (/*@__PURE__*/$parcel$interopDefault($d1e5be0b6db37649$exports))}#icon-arrow-left\"></use>\n          </svg>\n          <span>Page ${curPage - 1}</span>\n        </button>\n        <button data-goto=\"${curPage + 1}\" class=\"btn--inline pagination__btn--next\">\n          <span>Page ${curPage + 1}</span>\n          <svg class=\"search__icon\">\n            <use href=\"${0, (/*@__PURE__*/$parcel$interopDefault($d1e5be0b6db37649$exports))}#icon-arrow-right\"></use>\n          </svg>\n        </button>\n      `;\n        // Page 1, and there are NO other pages\n        return '';\n    }\n}\nvar $c4d1c4156c1176a1$export$2e2bcd8739ae039 = new $c4d1c4156c1176a1$var$PaginationView();\n\n\n\n\n\nclass $ba4b0885aed1be44$var$BookmarksView extends (0, $1e012f77ee4dc7ab$export$2e2bcd8739ae039) {\n    _parentElement = document.querySelector('.bookmarks__list');\n    _errorMessage = 'No bookmarks yet. Find a nice recipe and bookmark it ;)';\n    _message = '';\n    addHandlerRender(handler) {\n        window.addEventListener('load', handler);\n    }\n    _generateMarkup() {\n        return this._data.map((bookmark)=>(0, $0e33e89facf3c96b$export$2e2bcd8739ae039).render(bookmark, false)).join('');\n    }\n}\nvar $ba4b0885aed1be44$export$2e2bcd8739ae039 = new $ba4b0885aed1be44$var$BookmarksView();\n\n\n\n\nclass $1799a94ade64d769$var$AddRecipeView extends (0, $1e012f77ee4dc7ab$export$2e2bcd8739ae039) {\n    _parentElement = document.querySelector('.upload');\n    _message = 'Recipe was successfully uploaded :)';\n    _window = document.querySelector('.add-recipe-window');\n    _overlay = document.querySelector('.overlay');\n    _btnOpen = document.querySelector('.nav__btn--add-recipe');\n    _btnClose = document.querySelector('.btn--close-modal');\n    constructor(){\n        super();\n        this._addHandlerShowWindow();\n        this._addHandlerHideWindow();\n    }\n    toggleWindow() {\n        this._overlay.classList.toggle('hidden');\n        this._window.classList.toggle('hidden');\n    }\n    _addHandlerShowWindow() {\n        this._btnOpen.addEventListener('click', this.toggleWindow.bind(this));\n    }\n    _addHandlerHideWindow() {\n        this._btnClose.addEventListener('click', this.toggleWindow.bind(this));\n        this._overlay.addEventListener('click', this.toggleWindow.bind(this));\n    }\n    addHandlerUpload(handler) {\n        this._parentElement.addEventListener('submit', function(e) {\n            e.preventDefault();\n            const dataArr = [\n                ...new FormData(this)\n            ];\n            const data = Object.fromEntries(dataArr);\n            handler(data);\n        });\n    }\n    _generateMarkup() {}\n}\nvar $1799a94ade64d769$export$2e2bcd8739ae039 = new $1799a94ade64d769$var$AddRecipeView();\n\n\n\n\nconst $e3563ef224d8f875$var$controlRecipes = async function() {\n    try {\n        const id = window.location.hash.slice(1);\n        if (!id) return;\n        (0, $72fed2084279148d$export$2e2bcd8739ae039).renderSpinner();\n        // 0) Update results view to mark selected search result\n        (0, $5e0ec12e5f0de034$export$2e2bcd8739ae039).update($ab6718d70450324c$export$8d7f79465139ab72());\n        // 1) Updating bookmarks view\n        (0, $ba4b0885aed1be44$export$2e2bcd8739ae039).update($ab6718d70450324c$export$ca000e230c0caa3e.bookmarks);\n        // 2) Loading recipe\n        await $ab6718d70450324c$export$b96725c7a035d60b(id);\n        // 3) Rendering recipe\n        (0, $72fed2084279148d$export$2e2bcd8739ae039).render($ab6718d70450324c$export$ca000e230c0caa3e.recipe);\n    } catch (err) {\n        (0, $72fed2084279148d$export$2e2bcd8739ae039).renderError();\n        console.error(err);\n    }\n};\nconst $e3563ef224d8f875$var$controlSearchResults = async function() {\n    try {\n        (0, $5e0ec12e5f0de034$export$2e2bcd8739ae039).renderSpinner();\n        // 1) Get search query\n        const query = (0, $4aaaf4718738096b$export$2e2bcd8739ae039).getQuery();\n        if (!query) return;\n        // 2) Load search results\n        await $ab6718d70450324c$export$202b8e5cb363a0c4(query);\n        // 3) Render results\n        (0, $5e0ec12e5f0de034$export$2e2bcd8739ae039).render($ab6718d70450324c$export$8d7f79465139ab72());\n        // 4) Render initial pagination buttons\n        (0, $c4d1c4156c1176a1$export$2e2bcd8739ae039).render($ab6718d70450324c$export$ca000e230c0caa3e.search);\n    } catch (err) {\n        console.log(err);\n    }\n};\nconst $e3563ef224d8f875$var$controlPagination = function(goToPage) {\n    // 1) Render NEW results\n    (0, $5e0ec12e5f0de034$export$2e2bcd8739ae039).render($ab6718d70450324c$export$8d7f79465139ab72(goToPage));\n    // 2) Render NEW pagination buttons\n    (0, $c4d1c4156c1176a1$export$2e2bcd8739ae039).render($ab6718d70450324c$export$ca000e230c0caa3e.search);\n};\nconst $e3563ef224d8f875$var$controlServings = function(newServings) {\n    // Update the recipe servings (in state)\n    $ab6718d70450324c$export$5e23f4642ecad5ea(newServings);\n    // Update the recipe view\n    (0, $72fed2084279148d$export$2e2bcd8739ae039).update($ab6718d70450324c$export$ca000e230c0caa3e.recipe);\n};\nconst $e3563ef224d8f875$var$controlAddBookmark = function() {\n    // 1) Add/remove bookmark\n    if (!$ab6718d70450324c$export$ca000e230c0caa3e.recipe.bookmarked) $ab6718d70450324c$export$72009cc673d27d80($ab6718d70450324c$export$ca000e230c0caa3e.recipe);\n    else $ab6718d70450324c$export$136048bcb9946c75($ab6718d70450324c$export$ca000e230c0caa3e.recipe.id);\n    // 2) Update recipe view\n    (0, $72fed2084279148d$export$2e2bcd8739ae039).update($ab6718d70450324c$export$ca000e230c0caa3e.recipe);\n    // 3) Render bookmarks\n    (0, $ba4b0885aed1be44$export$2e2bcd8739ae039).render($ab6718d70450324c$export$ca000e230c0caa3e.bookmarks);\n};\nconst $e3563ef224d8f875$var$controlBookmarks = function() {\n    (0, $ba4b0885aed1be44$export$2e2bcd8739ae039).render($ab6718d70450324c$export$ca000e230c0caa3e.bookmarks);\n};\nconst $e3563ef224d8f875$var$controlAddRecipe = async function(newRecipe) {\n    try {\n        // Show loading spinner\n        (0, $1799a94ade64d769$export$2e2bcd8739ae039).renderSpinner();\n        // Upload the new recipe data\n        await $ab6718d70450324c$export$d660c2254e74960d(newRecipe);\n        console.log($ab6718d70450324c$export$ca000e230c0caa3e.recipe);\n        // Render recipe\n        (0, $72fed2084279148d$export$2e2bcd8739ae039).render($ab6718d70450324c$export$ca000e230c0caa3e.recipe);\n        // Success message\n        (0, $1799a94ade64d769$export$2e2bcd8739ae039).renderMessage();\n        // Render bookmark view\n        (0, $ba4b0885aed1be44$export$2e2bcd8739ae039).render($ab6718d70450324c$export$ca000e230c0caa3e.bookmarks);\n        // Change ID in URL\n        window.history.pushState(null, '', `#${$ab6718d70450324c$export$ca000e230c0caa3e.recipe.id}`);\n        // Close form window\n        setTimeout(function() {\n            (0, $1799a94ade64d769$export$2e2bcd8739ae039).toggleWindow();\n        }, (0, $5a6096cca84573e0$export$3ce8858248d89a69) * 1000);\n    } catch (err) {\n        console.error(\"\\uD83D\\uDCA5\", err);\n        (0, $1799a94ade64d769$export$2e2bcd8739ae039).renderError(err.message);\n    }\n};\nconst $e3563ef224d8f875$var$init = function() {\n    (0, $ba4b0885aed1be44$export$2e2bcd8739ae039).addHandlerRender($e3563ef224d8f875$var$controlBookmarks);\n    (0, $72fed2084279148d$export$2e2bcd8739ae039).addHandlerRender($e3563ef224d8f875$var$controlRecipes);\n    (0, $72fed2084279148d$export$2e2bcd8739ae039).addHandlerUpdateServings($e3563ef224d8f875$var$controlServings);\n    (0, $72fed2084279148d$export$2e2bcd8739ae039).addHandlerAddBookmark($e3563ef224d8f875$var$controlAddBookmark);\n    (0, $4aaaf4718738096b$export$2e2bcd8739ae039).addHandlerSearch($e3563ef224d8f875$var$controlSearchResults);\n    (0, $c4d1c4156c1176a1$export$2e2bcd8739ae039).addHandlerClick($e3563ef224d8f875$var$controlPagination);\n    (0, $1799a94ade64d769$export$2e2bcd8739ae039).addHandlerUpload($e3563ef224d8f875$var$controlAddRecipe);\n};\n$e3563ef224d8f875$var$init();\n\n\n//# sourceMappingURL=18. Forkify.b287c48c.js.map\n","import * as model from './model.js';\nimport { MODAL_CLOSE_SEC } from './config.js';\nimport recipeView from './views/recipeView.js';\nimport searchView from './views/searchView.js';\nimport resultsView from './views/resultsView.js';\nimport paginationView from './views/paginationView.js';\nimport bookmarksView from './views/bookmarksView.js';\nimport addRecipeView from './views/addRecipeView.js';\n\nimport 'core-js/stable';\nimport 'regenerator-runtime/runtime';\nimport { async } from 'regenerator-runtime';\n\nconst controlRecipes = async function () {\n  try {\n    const id = window.location.hash.slice(1);\n\n    if (!id) return;\n    recipeView.renderSpinner();\n\n    // 0) Update results view to mark selected search result\n    resultsView.update(model.getSearchResultsPage());\n\n    // 1) Updating bookmarks view\n    bookmarksView.update(model.state.bookmarks);\n\n    // 2) Loading recipe\n    await model.loadRecipe(id);\n\n    // 3) Rendering recipe\n    recipeView.render(model.state.recipe);\n  } catch (err) {\n    recipeView.renderError();\n    console.error(err);\n  }\n};\n\nconst controlSearchResults = async function () {\n  try {\n    resultsView.renderSpinner();\n\n    // 1) Get search query\n    const query = searchView.getQuery();\n    if (!query) return;\n\n    // 2) Load search results\n    await model.loadSearchResults(query);\n\n    // 3) Render results\n    resultsView.render(model.getSearchResultsPage());\n\n    // 4) Render initial pagination buttons\n    paginationView.render(model.state.search);\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nconst controlPagination = function (goToPage) {\n  // 1) Render NEW results\n  resultsView.render(model.getSearchResultsPage(goToPage));\n\n  // 2) Render NEW pagination buttons\n  paginationView.render(model.state.search);\n};\n\nconst controlServings = function (newServings) {\n  // Update the recipe servings (in state)\n  model.updateServings(newServings);\n\n  // Update the recipe view\n  recipeView.update(model.state.recipe);\n};\n\nconst controlAddBookmark = function () {\n  // 1) Add/remove bookmark\n  if (!model.state.recipe.bookmarked) model.addBookmark(model.state.recipe);\n  else model.deleteBookmark(model.state.recipe.id);\n\n  // 2) Update recipe view\n  recipeView.update(model.state.recipe);\n\n  // 3) Render bookmarks\n  bookmarksView.render(model.state.bookmarks);\n};\n\nconst controlBookmarks = function () {\n  bookmarksView.render(model.state.bookmarks);\n};\n\nconst controlAddRecipe = async function (newRecipe) {\n  try {\n    // Show loading spinner\n    addRecipeView.renderSpinner();\n\n    // Upload the new recipe data\n    await model.uploadRecipe(newRecipe);\n    console.log(model.state.recipe);\n\n    // Render recipe\n    recipeView.render(model.state.recipe);\n\n    // Success message\n    addRecipeView.renderMessage();\n\n    // Render bookmark view\n    bookmarksView.render(model.state.bookmarks);\n\n    // Change ID in URL\n    window.history.pushState(null, '', `#${model.state.recipe.id}`);\n\n    // Close form window\n    setTimeout(function () {\n      addRecipeView.toggleWindow();\n    }, MODAL_CLOSE_SEC * 1000);\n  } catch (err) {\n    console.error('💥', err);\n    addRecipeView.renderError(err.message);\n  }\n};\n\nconst init = function () {\n  bookmarksView.addHandlerRender(controlBookmarks);\n  recipeView.addHandlerRender(controlRecipes);\n  recipeView.addHandlerUpdateServings(controlServings);\n  recipeView.addHandlerAddBookmark(controlAddBookmark);\n  searchView.addHandlerSearch(controlSearchResults);\n  paginationView.addHandlerClick(controlPagination);\n  addRecipeView.addHandlerUpload(controlAddRecipe);\n};\ninit();\n","import { async } from 'regenerator-runtime';\r\nimport { API_URL, RES_PER_PAGE, KEY } from './config.js';\r\n// import { getJSON, sendJSON } from './helpers.js';\r\nimport { AJAX } from './helpers.js';\r\n\r\nexport const state = {\r\n  recipe: {},\r\n  search: {\r\n    query: '',\r\n    results: [],\r\n    page: 1,\r\n    resultsPerPage: RES_PER_PAGE,\r\n  },\r\n  bookmarks: [],\r\n};\r\n\r\nconst createRecipeObject = function (data) {\r\n  const { recipe } = data.data;\r\n  return {\r\n    id: recipe.id,\r\n    title: recipe.title,\r\n    publisher: recipe.publisher,\r\n    sourceUrl: recipe.source_url,\r\n    image: recipe.image_url,\r\n    servings: recipe.servings,\r\n    cookingTime: recipe.cooking_time,\r\n    ingredients: recipe.ingredients,\r\n    ...(recipe.key && { key: recipe.key }),\r\n  };\r\n};\r\n\r\nexport const loadRecipe = async function (id) {     \r\n  try {\r\n    const data = await AJAX(`${API_URL}${id}?key=${KEY}`);\r\n    state.recipe = createRecipeObject(data);\r\n\r\n    if (state.bookmarks.some(bookmark => bookmark.id === id))\r\n      state.recipe.bookmarked = true;\r\n    else state.recipe.bookmarked = false;\r\n\r\n    console.log(state.recipe);\r\n  } catch (err) {\r\n    // Temp error handling\r\n    console.error(`${err} 💥💥💥💥`);\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const loadSearchResults = async function (query) {\r\n  try {\r\n    state.search.query = query;\r\n\r\n    const data = await AJAX(`${API_URL}?search=${query}&key=${KEY}`);\r\n    console.log(data);\r\n\r\n    state.search.results = data.data.recipes.map(rec => {\r\n      return {\r\n        id: rec.id,\r\n        title: rec.title,\r\n        publisher: rec.publisher,\r\n        image: rec.image_url,\r\n        ...(rec.key && { key: rec.key }),\r\n      };\r\n    });\r\n    state.search.page = 1;\r\n  } catch (err) {\r\n    console.error(`${err} 💥💥💥💥`);\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const getSearchResultsPage = function (page = state.search.page) {\r\n  state.search.page = page;\r\n\r\n  const start = (page - 1) * state.search.resultsPerPage; // 0\r\n  const end = page * state.search.resultsPerPage; // 9\r\n\r\n  return state.search.results.slice(start, end);\r\n};\r\n\r\nexport const updateServings = function (newServings) {\r\n  state.recipe.ingredients.forEach(ing => {\r\n    ing.quantity = (ing.quantity * newServings) / state.recipe.servings;\r\n    // newQt = oldQt * newServings / oldServings // 2 * 8 / 4 = 4\r\n  });\r\n\r\n  state.recipe.servings = newServings;\r\n};\r\n\r\nconst persistBookmarks = function () {\r\n  localStorage.setItem('bookmarks', JSON.stringify(state.bookmarks));\r\n};\r\n\r\nexport const addBookmark = function (recipe) {\r\n  // Add bookmark\r\n  state.bookmarks.push(recipe);\r\n\r\n  // Mark current recipe as bookmarked\r\n  if (recipe.id === state.recipe.id) state.recipe.bookmarked = true;\r\n\r\n  persistBookmarks();\r\n};\r\n\r\nexport const deleteBookmark = function (id) {\r\n  // Delete bookmark\r\n  const index = state.bookmarks.findIndex(el => el.id === id);\r\n  state.bookmarks.splice(index, 1);\r\n\r\n  // Mark current recipe as NOT bookmarked\r\n  if (id === state.recipe.id) state.recipe.bookmarked = false;\r\n\r\n  persistBookmarks();\r\n};\r\n\r\nconst init = function () {\r\n  const storage = localStorage.getItem('bookmarks');\r\n  if (storage) state.bookmarks = JSON.parse(storage);\r\n};\r\ninit();\r\n\r\nconst clearBookmarks = function () {\r\n  localStorage.clear('bookmarks');\r\n};\r\n// clearBookmarks();\r\n\r\nexport const uploadRecipe = async function (newRecipe) {\r\n  try {\r\n    const ingredients = Object.entries(newRecipe)\r\n      .filter(entry => entry[0].startsWith('ingredient') && entry[1] !== '')\r\n      .map(ing => {\r\n        const ingArr = ing[1].split(',').map(el => el.trim());\r\n        // const ingArr = ing[1].replaceAll(' ', '').split(',');\r\n        if (ingArr.length !== 3)\r\n          throw new Error(\r\n            'Wrong ingredient fromat! Please use the correct format :)'\r\n          );\r\n\r\n        const [quantity, unit, description] = ingArr;\r\n\r\n        return { quantity: quantity ? +quantity : null, unit, description };\r\n      });\r\n\r\n    const recipe = {\r\n      title: newRecipe.title,\r\n      source_url: newRecipe.sourceUrl,\r\n      image_url: newRecipe.image,\r\n      publisher: newRecipe.publisher,\r\n      cooking_time: +newRecipe.cookingTime,\r\n      servings: +newRecipe.servings,\r\n      ingredients,\r\n    };\r\n\r\n    const data = await AJAX(`${API_URL}?key=${KEY}`, recipe);\r\n    state.recipe = createRecipeObject(data);\r\n    addBookmark(state.recipe);\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n","export const API_URL = 'https://forkify-api.herokuapp.com/api/v2/recipes/';\r\nexport const TIMEOUT_SEC = 10;\r\nexport const RES_PER_PAGE = 10;\r\nexport const KEY = '68dc8f3a-579a-45bf-b9f6-9d23d9283cb9';\r\nexport const MODAL_CLOSE_SEC = 2.5;\r\n","import { async } from 'regenerator-runtime';\r\nimport { TIMEOUT_SEC } from './config.js';\r\n\r\nconst timeout = function (s) {\r\n  return new Promise(function (_, reject) {\r\n    setTimeout(function () {\r\n      reject(new Error(`Request took too long! Timeout after ${s} second`));\r\n    }, s * 1000);\r\n  });\r\n};\r\n\r\nexport const AJAX = async function (url, uploadData = undefined) {\r\n  try {\r\n    const fetchPro = uploadData\r\n      ? fetch(url, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify(uploadData),\r\n        })\r\n      : fetch(url);\r\n\r\n    const res = await Promise.race([fetchPro, timeout(TIMEOUT_SEC)]);\r\n    const data = await res.json();\r\n\r\n    if (!res.ok) throw new Error(`${data.message} (${res.status})`);\r\n    return data;\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n\r\n/*\r\nexport const getJSON = async function (url) {\r\n  try {\r\n    const fetchPro = fetch(url);\r\n    const res = await Promise.race([fetchPro, timeout(TIMEOUT_SEC)]);\r\n    const data = await res.json();\r\n\r\n    if (!res.ok) throw new Error(`${data.message} (${res.status})`);\r\n    return data;\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const sendJSON = async function (url, uploadData) {\r\n  try {\r\n    const fetchPro = fetch(url, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(uploadData),\r\n    });\r\n\r\n    const res = await Promise.race([fetchPro, timeout(TIMEOUT_SEC)]);\r\n    const data = await res.json();\r\n\r\n    if (!res.ok) throw new Error(`${data.message} (${res.status})`);\r\n    return data;\r\n  } catch (err) {\r\n    throw err;\r\n  }\r\n};\r\n*/\r\n","import View from './View.js';\r\n\r\n// import icons from '../img/icons.svg'; // Parcel 1\r\nimport icons from 'url:../../img/icons.svg'; // Parcel 2\r\nimport Fraction from 'fraction.js';\r\n\r\nclass RecipeView extends View {\r\n  _parentElement = document.querySelector('.recipe');\r\n  _errorMessage = 'We could not find that recipe. Please try another one!';\r\n  _message = '';\r\n\r\n  addHandlerRender(handler) {\r\n    ['hashchange', 'load'].forEach(ev => window.addEventListener(ev, handler));\r\n  }\r\n\r\n  addHandlerUpdateServings(handler) {\r\n    this._parentElement.addEventListener('click', function (e) {\r\n      const btn = e.target.closest('.btn--update-servings');\r\n      if (!btn) return;\r\n      const { updateTo } = btn.dataset;\r\n      if (+updateTo > 0) handler(+updateTo);\r\n    });\r\n  }\r\n\r\n  addHandlerAddBookmark(handler) {\r\n    this._parentElement.addEventListener('click', function (e) {\r\n      const btn = e.target.closest('.btn--bookmark');\r\n      if (!btn) return;\r\n      handler();\r\n    });\r\n  }\r\n\r\n  _generateMarkup() {\r\n    return `\r\n      <figure class=\"recipe__fig\">\r\n        <img src=\"${this._data.image}\" alt=\"${this._data.title}\" class=\"recipe__img\" />\r\n        <h1 class=\"recipe__title\">\r\n          <span>${this._data.title}</span>\r\n        </h1>\r\n      </figure>\r\n\r\n      <div class=\"recipe__details\">\r\n        <div class=\"recipe__info\">\r\n          <svg class=\"recipe__info-icon\">\r\n            <use href=\"${icons}#icon-clock\"></use>\r\n          </svg>\r\n          <span class=\"recipe__info-data recipe__info-data--minutes\">${this._data.cookingTime}</span>\r\n          <span class=\"recipe__info-text\">minutes</span>\r\n        </div>\r\n        <div class=\"recipe__info\">\r\n          <svg class=\"recipe__info-icon\">\r\n            <use href=\"${icons}#icon-users\"></use>\r\n          </svg>\r\n          <span class=\"recipe__info-data recipe__info-data--people\">${this._data.servings}</span>\r\n          <span class=\"recipe__info-text\">servings</span>\r\n\r\n          <div class=\"recipe__info-buttons\">\r\n            <button class=\"btn--tiny btn--update-servings\" data-update-to=\"${this._data.servings - 1}\">\r\n              <svg>\r\n                <use href=\"${icons}#icon-minus-circle\"></use>\r\n              </svg>\r\n            </button>\r\n            <button class=\"btn--tiny btn--update-servings\" data-update-to=\"${this._data.servings + 1}\">\r\n              <svg>\r\n                <use href=\"${icons}#icon-plus-circle\"></use>\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"recipe__user-generated ${this._data.key ? '' : 'hidden'}\">\r\n          <svg>\r\n            <use href=\"${icons}#icon-user\"></use>\r\n          </svg>\r\n        </div>\r\n        <button class=\"btn--round btn--bookmark\">\r\n          <svg class=\"\">\r\n            <use href=\"${icons}#icon-bookmark${this._data.bookmarked ? '-fill' : ''}\"></use>\r\n          </svg>\r\n        </button>\r\n      </div>\r\n\r\n      <div class=\"recipe__ingredients\">\r\n        <h2 class=\"heading--2\">Recipe ingredients</h2>\r\n        <ul class=\"recipe__ingredient-list\">\r\n          ${this._data.ingredients.map(this._generateMarkupIngredient.bind(this)).join('')}\r\n        </ul>\r\n      </div>\r\n\r\n      <div class=\"recipe__directions\">\r\n        <h2 class=\"heading--2\">How to cook it</h2>\r\n        <p class=\"recipe__directions-text\">\r\n          This recipe was carefully designed and tested by\r\n          <span class=\"recipe__publisher\">${this._data.publisher}</span>. Please check out\r\n          directions at their website.\r\n        </p>\r\n        <a\r\n          class=\"btn--small recipe__btn\"\r\n          href=\"${this._data.sourceUrl}\"\r\n          target=\"_blank\"\r\n        >\r\n          <span>Directions</span>\r\n          <svg class=\"search__icon\">\r\n            <use href=\"${icons}#icon-arrow-right\"></use>\r\n          </svg>\r\n        </a>\r\n      </div>\r\n    `;\r\n  }\r\n\r\n  _generateMarkupIngredient(ing) {\r\n    return `\r\n    <li class=\"recipe__ingredient\">\r\n      <svg class=\"recipe__icon\">\r\n        <use href=\"${icons}#icon-check\"></use>\r\n      </svg>\r\n      <div class=\"recipe__quantity\">\r\n        ${ing.quantity ? new Fraction(ing.quantity).toString() : ''}\r\n      </div>\r\n      <div class=\"recipe__description\">\r\n        <span class=\"recipe__unit\">${ing.unit}</span>\r\n        ${ing.description}\r\n      </div>\r\n    </li>\r\n    `;\r\n  }\r\n}\r\n\r\nexport default new RecipeView();","import icons from 'url:../../img/icons.svg'; // Parcel 2\r\n\r\nexport default class View {\r\n  _data;\r\n\r\n  /**\r\n   * Render the received object to the DOM\r\n   * @param {Object | Object[]} data The data to be rendered (e.g. recipe)\r\n   * @param {boolean} [render=true] If false, create markup string instead of rendering to the DOM\r\n   * @returns {undefined | string} A markup string is returned if render=false\r\n   * @this {Object} View instance\r\n   * @author Jonas Schmedtmann\r\n   * @todo Finish implementation\r\n   */\r\n  render(data, render = true) {\r\n    if (!data || (Array.isArray(data) && data.length === 0))\r\n      return this.renderError();\r\n\r\n    this._data = data;\r\n    const markup = this._generateMarkup();\r\n\r\n    if (!render) return markup;\r\n\r\n    this._clear();\r\n    this._parentElement.insertAdjacentHTML('afterbegin', markup);\r\n  }\r\n\r\n  update(data) {\r\n    this._data = data;\r\n    const newMarkup = this._generateMarkup();\r\n\r\n    const newDOM = document.createRange().createContextualFragment(newMarkup);\r\n    const newElements = Array.from(newDOM.querySelectorAll('*'));\r\n    const curElements = Array.from(this._parentElement.querySelectorAll('*'));\r\n\r\n    newElements.forEach((newEl, i) => {\r\n      const curEl = curElements[i];\r\n      // console.log(curEl, newEl.isEqualNode(curEl));\r\n\r\n      // Updates changed TEXT\r\n      if (\r\n        !newEl.isEqualNode(curEl) &&\r\n        newEl.firstChild?.nodeValue.trim() !== ''\r\n      ) {\r\n        // console.log('💥', newEl.firstChild.nodeValue.trim());\r\n        curEl.textContent = newEl.textContent;\r\n      }\r\n\r\n      // Updates changed ATTRIBUES\r\n      if (!newEl.isEqualNode(curEl))\r\n        Array.from(newEl.attributes).forEach(attr =>\r\n          curEl.setAttribute(attr.name, attr.value)\r\n        );\r\n    });\r\n  }\r\n\r\n  _clear() {\r\n    this._parentElement.innerHTML = '';\r\n  }\r\n\r\n  renderSpinner() {\r\n    const markup = `\r\n      <div class=\"spinner\">\r\n        <svg>\r\n          <use href=\"${icons}#icon-loader\"></use>\r\n        </svg>\r\n      </div>\r\n    `;\r\n    this._clear();\r\n    this._parentElement.insertAdjacentHTML('afterbegin', markup);\r\n  }\r\n\r\n  renderError(message = this._errorMessage) {\r\n    const markup = `\r\n      <div class=\"error\">\r\n        <div>\r\n          <svg>\r\n            <use href=\"${icons}#icon-alert-triangle\"></use>\r\n          </svg>\r\n        </div>\r\n        <p>${message}</p>\r\n      </div>\r\n    `;\r\n    this._clear();\r\n    this._parentElement.insertAdjacentHTML('afterbegin', markup);\r\n  }\r\n\r\n  renderMessage(message = this._message) {\r\n    const markup = `\r\n      <div class=\"message\">\r\n        <div>\r\n          <svg>\r\n            <use href=\"${icons}#icon-smile\"></use>\r\n          </svg>\r\n        </div>\r\n        <p>${message}</p>\r\n      </div>\r\n    `;\r\n    this._clear();\r\n    this._parentElement.insertAdjacentHTML('afterbegin', markup);\r\n  }\r\n}\r\n","module.exports = parcelRequire.resolve(\"icons.c5b0f01c.svg\");","class SearchView {\n  _parentEl = document.querySelector('.search');\n\n  getQuery() {\n    const query = this._parentEl.querySelector('.search__field').value;\n    this._clearInput();\n    return query;\n  }\n\n  _clearInput() {\n    this._parentEl.querySelector('.search__field').value = '';\n  }\n\n  addHandlerSearch(handler) {\n    this._parentEl.addEventListener('submit', function (e) {\n      e.preventDefault();\n      handler();\n    });\n  }\n}\n\nexport default new SearchView();\n","import View from './View.js';\nimport previewView from './previewView.js';\nimport icons from 'url:../../img/icons.svg'; // Parcel 2\n\nclass ResultsView extends View {\n  _parentElement = document.querySelector('.results');\n  _errorMessage = 'No recipes found for your query! Please try again ;)';\n  _message = '';\n\n  _generateMarkup() {\n    return this._data.map(result => previewView.render(result, false)).join('');\n  }\n}\n\nexport default new ResultsView();\n","import View from './View.js';\nimport icons from 'url:../../img/icons.svg'; // Parcel 2\n\nclass PreviewView extends View {\n  _parentElement = '';\n\n  _generateMarkup() {\n    const id = window.location.hash.slice(1);\n\n    return `\n      <li class=\"preview\">\n        <a class=\"preview__link ${\n          this._data.id === id ? 'preview__link--active' : ''\n        }\" href=\"#${this._data.id}\">\n          <figure class=\"preview__fig\">\n            <img src=\"${this._data.image}\" alt=\"${this._data.title}\" />\n          </figure>\n          <div class=\"preview__data\">\n            <h4 class=\"preview__title\">${this._data.title}</h4>\n            <p class=\"preview__publisher\">${this._data.publisher}</p>\n            <div class=\"preview__user-generated ${\n              this._data.key ? '' : 'hidden'\n            }\">\n              <svg>\n              <use href=\"${icons}#icon-user\"></use>\n              </svg>\n            </div>\n          </div>\n        </a>\n      </li>\n    `;\n  }\n}\n\nexport default new PreviewView();\n","import View from './View.js';\nimport icons from 'url:../../img/icons.svg'; // Parcel 2\n\nclass PaginationView extends View {\n  _parentElement = document.querySelector('.pagination');\n\n  addHandlerClick(handler) {\n    this._parentElement.addEventListener('click', function (e) {\n      const btn = e.target.closest('.btn--inline');\n      if (!btn) return;\n\n      const goToPage = +btn.dataset.goto;\n      handler(goToPage);\n    });\n  }\n\n  _generateMarkup() {\n    const curPage = this._data.page;\n    const numPages = Math.ceil(\n      this._data.results.length / this._data.resultsPerPage\n    );\n\n    // Page 1, and there are other pages\n    if (curPage === 1 && numPages > 1) {\n      return `\n        <button data-goto=\"${\n          curPage + 1\n        }\" class=\"btn--inline pagination__btn--next\">\n          <span>Page ${curPage + 1}</span>\n          <svg class=\"search__icon\">\n            <use href=\"${icons}#icon-arrow-right\"></use>\n          </svg>\n        </button>\n      `;\n    }\n\n    // Last page\n    if (curPage === numPages && numPages > 1) {\n      return `\n        <button data-goto=\"${\n          curPage - 1\n        }\" class=\"btn--inline pagination__btn--prev\">\n          <svg class=\"search__icon\">\n            <use href=\"${icons}#icon-arrow-left\"></use>\n          </svg>\n          <span>Page ${curPage - 1}</span>\n        </button>\n      `;\n    }\n\n    // Other page\n    if (curPage < numPages) {\n      return `\n        <button data-goto=\"${\n          curPage - 1\n        }\" class=\"btn--inline pagination__btn--prev\">\n          <svg class=\"search__icon\">\n            <use href=\"${icons}#icon-arrow-left\"></use>\n          </svg>\n          <span>Page ${curPage - 1}</span>\n        </button>\n        <button data-goto=\"${\n          curPage + 1\n        }\" class=\"btn--inline pagination__btn--next\">\n          <span>Page ${curPage + 1}</span>\n          <svg class=\"search__icon\">\n            <use href=\"${icons}#icon-arrow-right\"></use>\n          </svg>\n        </button>\n      `;\n    }\n\n    // Page 1, and there are NO other pages\n    return '';\n  }\n}\n\nexport default new PaginationView();\n","import View from './View.js';\nimport previewView from './previewView.js';\nimport icons from 'url:../../img/icons.svg'; // Parcel 2\n\nclass BookmarksView extends View {\n  _parentElement = document.querySelector('.bookmarks__list');\n  _errorMessage = 'No bookmarks yet. Find a nice recipe and bookmark it ;)';\n  _message = '';\n\n  addHandlerRender(handler) {\n    window.addEventListener('load', handler);\n  }\n\n  _generateMarkup() {\n    return this._data\n      .map(bookmark => previewView.render(bookmark, false))\n      .join('');\n  }\n}\n\nexport default new BookmarksView();\n","import View from './View.js';\nimport icons from 'url:../../img/icons.svg'; // Parcel 2\n\nclass AddRecipeView extends View {\n  _parentElement = document.querySelector('.upload');\n  _message = 'Recipe was successfully uploaded :)';\n\n  _window = document.querySelector('.add-recipe-window');\n  _overlay = document.querySelector('.overlay');\n  _btnOpen = document.querySelector('.nav__btn--add-recipe');\n  _btnClose = document.querySelector('.btn--close-modal');\n\n  constructor() {\n    super();\n    this._addHandlerShowWindow();\n    this._addHandlerHideWindow();\n  }\n\n  toggleWindow() {\n    this._overlay.classList.toggle('hidden');\n    this._window.classList.toggle('hidden');\n  }\n\n  _addHandlerShowWindow() {\n    this._btnOpen.addEventListener('click', this.toggleWindow.bind(this));\n  }\n\n  _addHandlerHideWindow() {\n    this._btnClose.addEventListener('click', this.toggleWindow.bind(this));\n    this._overlay.addEventListener('click', this.toggleWindow.bind(this));\n  }\n\n  addHandlerUpload(handler) {\n    this._parentElement.addEventListener('submit', function (e) {\n      e.preventDefault();\n      const dataArr = [...new FormData(this)];\n      const data = Object.fromEntries(dataArr);\n      handler(data);\n    });\n  }\n\n  _generateMarkup() {}\n}\n\nexport default new AddRecipeView();\n"],"names":["$cKg3f$fractionjs","$parcel$interopDefault","a","__esModule","default","url","$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$5a6096cca84573e0$export$923ea8233b386e99","$5a6096cca84573e0$export$7167c830cefcb6b5","$f60b3440db01ec1d$export$2b3ff41fecbef7c8","uploadData","fetchPro","fetch","method","headers","body","JSON","stringify","res","Promise","race","_","reject","setTimeout","s","data","json","ok","message","status","$ab6718d70450324c$export$ca000e230c0caa3e","recipe","search","query","results","page","resultsPerPage","bookmarks","$ab6718d70450324c$var$createRecipeObject","title","publisher","sourceUrl","source_url","image","image_url","servings","cookingTime","cooking_time","ingredients","key","$ab6718d70450324c$export$b96725c7a035d60b","some","bookmark","bookmarked","console","log","error","$ab6718d70450324c$export$202b8e5cb363a0c4","recipes","map","rec","$ab6718d70450324c$export$8d7f79465139ab72","start","end","slice","$ab6718d70450324c$export$5e23f4642ecad5ea","newServings","forEach","ing","quantity","$ab6718d70450324c$var$persistBookmarks","localStorage","setItem","$ab6718d70450324c$export$72009cc673d27d80","push","$ab6718d70450324c$export$136048bcb9946c75","index","findIndex","el","splice","storage","getItem","parse","$ab6718d70450324c$export$d660c2254e74960d","newRecipe","Object","entries","filter","entry","startsWith","ingArr","split","trim","length","unit","description","$d1e5be0b6db37649$exports","URL","$parcel$distDir","i","toString","$1e012f77ee4dc7ab$export$2e2bcd8739ae039","_data","render","Array","isArray","renderError","markup","_generateMarkup","_clear","_parentElement","insertAdjacentHTML","update","newMarkup","newElements","from","newDOM","document","createRange","createContextualFragment","querySelectorAll","curElements","newEl","curEl","isEqualNode","firstChild","nodeValue","textContent","attributes","attr","setAttribute","name","value","innerHTML","renderSpinner","_errorMessage","renderMessage","_message","$72fed2084279148d$var$RecipeView","querySelector","addHandlerRender","handler","ev","window","addEventListener","addHandlerUpdateServings","e","btn","target","closest","updateTo","dataset","addHandlerAddBookmark","_generateMarkupIngredient","bind","join","$72fed2084279148d$export$2e2bcd8739ae039","$4aaaf4718738096b$var$SearchView","_parentEl","getQuery","_clearInput","addHandlerSearch","preventDefault","$4aaaf4718738096b$export$2e2bcd8739ae039","$0e33e89facf3c96b$export$2e2bcd8739ae039","location","hash","$5e0ec12e5f0de034$var$ResultsView","result","$5e0ec12e5f0de034$export$2e2bcd8739ae039","$c4d1c4156c1176a1$var$PaginationView","addHandlerClick","goto","curPage","numPages","Math","ceil","$c4d1c4156c1176a1$export$2e2bcd8739ae039","$ba4b0885aed1be44$var$BookmarksView","$ba4b0885aed1be44$export$2e2bcd8739ae039","$1799a94ade64d769$var$AddRecipeView","_window","_overlay","_btnOpen","_btnClose","_addHandlerShowWindow","_addHandlerHideWindow","toggleWindow","classList","toggle","addHandlerUpload","fromEntries","FormData","$1799a94ade64d769$export$2e2bcd8739ae039","$e3563ef224d8f875$var$controlRecipes","$e3563ef224d8f875$var$controlSearchResults","$e3563ef224d8f875$var$controlAddRecipe","history","pushState","goToPage"],"version":3,"file":"18. Forkify.b287c48c.js.map","sourceRoot":"../"}